@use "sass:math"
@import "../base/variables"
@import "../base/fa"

/*
 * --- Normal text ---
 */

// Change the colour and font of headers
h1, h2, h3, h4, h5, h6
    color: var(--foreground-level-0)
    font-family: $font-header
    // Make it yellow for the titles
    strong
        color: $gilded-full

// Change line height for inline code
p, li
    line-height: 1.3rem

// Links
a[href]
    text-decoration: none
    // Semi-gilded normally
    &, &:visited, &:focus, &:active
        color: var(--foreground-link)
        // If it holds code, make it coloured too
        code
            color: var(--foreground-link)
    // White on hover
    &:hover
        color: var(--foreground-link-hover)
        code
            color: var(--foreground-link-hover)

/*
 * --- Formatting ---
 */

.body-content > img,
.body-content p > img,
.body-content blockquote > img
    // Don't make it go beyond the bounds
    max-width: 75%

    // Make it center-aligned
    display: block
    margin-left: auto
    margin-right: auto

// Remove that big spacing in a block quote or preview message
p, blockquote
    margin: $spacing-1 0
    &:first-child
        margin-top: 0
    &:last-child
        margin-bottom: 0

blockquote
    // Spacing
    margin: $spacing-5 0
    padding: $spacing-2 $spacing-4
    border-radius: $small-radius

    // Misc
    line-height: $spacing-4
    background-color: rgba(black, 0.15)

    // Side bar
    border-left: solid $small-radius $gilded-full
    // For log blocks
    &.note, &.tip, &.warning, &.caution, &.important, &.implement, &.inherit, &.security-note,
    &.caller, &.language-csharp, &.language-fsharp, &.language-vbnet
        border-left: none
        // Add an icon
        &::before
            @include include-fa('\f059')

            margin: $spacing-1 0
            display: block
            line-height: 1
    // Basic blockquote types
    &.note::before
        color: $event-green
        // Because SASS escapes it
        content: '\f138' + ' ' + 'Note:'
    &.tip::before
        color: $event-cyan
        content: '\f0eb' + ' ' + 'Tip:'
    &.warning::before
        color: $event-yellow
        content: '\f06a' + ' ' + 'Warning:'
    &.caution::before
        color: $event-red
        content: '\f057' + ' ' + 'Caution:'
    &.important::before
        color: $event-red
        content: '\f05a' + ' ' + 'Important:'
    // Other
    &.implement::before
        color: $event-cyan
        content: '\f101' + ' ' + 'Implementing:'
    &.inherit::before
        color: $event-sky
        content: '\f35a' + ' ' + 'Inheriting:'
    &.security-note::before
        color: $event-purple
        content: '\f3ed' + ' ' + 'Security note:'
    &.caller::before
        color: $event-purple
        content: '\f0e7' + ' ' + 'Calling:'
    // Language
    &.language-csharp::before
        color: $event-green
        content: '\f02d' + ' ' + 'C# only:'
    &.language-fsharp::before
        color: $event-purple
        content: '\f02d' + ' ' + 'F# only:'
    &.language-vbnet::before
        color: $event-sky
        content: '\f02d' + ' ' + 'VB.NET only:'
    

// Remove code block spacing
pre
    margin: 0
    padding: 0
    overflow: auto
code
    color: var(--foreground-level-1)
    background-color: var(--background-level-2)

// Tag-based
q
    border-radius: $tiny-radius
    padding: 0.05rem $spacing-0
    background-color: var(--background-level-4-highlight)
    &::before, &::after
        opacity: 45%
        // Don't push the current line of text slightly below
        line-height: 0

        font-size: 2em
        font-family: monospace
kbd
    background-color: var(--background-level-2)

    margin: 0 $spacing-0
    padding: $spacing-0 - .05rem $spacing-1 - 0.1rem
    border-radius: $tiny-radius

    font-size: 0.8em
    font-weight: bold
    font-family: $font-normal
    text-transform: capitalize

// Tables
table
    border-spacing: 0 math.div($spacing-0, 2)

    // Rounding
    overflow: hidden

    // Add spacing before and after it
    margin-top: $spacing-2
    margin-bottom: $spacing-2

    font-size: 0.8em
    // Heading
    thead
        tr
            color: var(--foreground-level-2)
    // Body rows
    tbody
        border-radius: $small-radius
        tr
            background-color: var(--background-level-3)
            td
                padding-right: 0.8rem
    // Any row item
    th, td
        padding: $spacing-1
    // Checkmark, crossmark table
    .fa-check
        color: $condition-good
    .fa-question
        color: $event-sky
    .fa-slash
        color: $event-yellow
        transform: rotate(20deg)
    .fa-times
        color: $condition-bad


// Referenced foonotes
.footnotes
    margin-top: $spacing-5

    border-radius: $medium-radius
    padding: $spacing-1 $spacing-3
    background-color: var(--background-level-3)