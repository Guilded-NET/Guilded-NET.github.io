@use "sass:list"
@import "./base"

/*
 * --- Normal text ---
 */

// Change the colour and font of headers
h1, h2, h3, h4, h5, h6
    color: var(--foreground-level-0)
    font-family: $font-header
    // Make it yellow for the titles
    strong
        color: $gilded-full

// Change line height for inline code
p, li
    line-height: 1.4rem

// Links
a[href]
    text-decoration: none
    // Semi-gilded normally
    &, &:visited, &:focus, &:active
        color: var(--foreground-link)
        // If it holds code, make it coloured too
        code
            color: var(--foreground-link)
    // White on hover
    &:hover
        color: var(--foreground-link-hover)
        code
            color: var(--foreground-link-hover)
/*
 * --- Formatting ---
 */

blockquote
    // Spacing
    margin: $spacing-4 0
    padding: $spacing-0
    padding-left: $spacing-3
    border-radius: $small-radius

    // Side
    border-left: $small-radius solid $gilded-full
    border-left-color: $gilded-full

    // Misc
    line-height: 1.4rem
    background-color: rgba(black, 0.15)

    // For log blocks
    &.info, &.note, &.caution, &.warning, &.success
        // Add an icon
        &::before
            @include include-fa('\f059')

            display: inline-block
            margin-right: $spacing-1
            margin-top: $spacing-1
            line-height: 1
    // Log block colours
    &.caution
        border-left-color: $event-red
        &::before
            color: $event-red
            // Because SASS escapes it
            content: '\f057' + ' ' + 'Caution:'
    &.warning
        border-left-color: $event-yellow
        &::before
            color: $event-yellow
            content: '\f06a' + ' ' + 'Warning:'
    // &.success
    //     border-left-color: $event-green
    //     &::before
    //         color: $event-green
    //         content: '\f058' + ' ' + 'Success:'
    &.info
        border-left-color: $event-sky
        &::before
            color: $event-sky
            content: '\f05a' + ' ' + 'Info:'
    &.note
        border-left-color: $event-green
        &::before
            color: $event-green
            content: '\f138' + ' ' + 'Note:'
    // Remove that big spacing in a block quote
    p:first-child
        margin-top: $spacing-1
    p:last-child
        margin-bottom: $spacing-1

// Remove code block spacing
pre
    margin: 0
    padding: 0
    overflow: auto
code
    font-family: 'Fira Code', 'Courier', Arial, Helvetica, sans-serif
    color: var(--foreground-level-1)
    background-color: var(--background-level-2)
    // Inline code
    :not(pre) > &
        line-break: strict
        white-space: pre-wrap
        border-radius: $tiny-radius
        padding: 0.05rem $spacing-0

// Tag-based
q
    &::before, &::after
        opacity: 50%
        line-height: 0

        font-size: 2em
        font-family: monospace
kbd
    background-color: var(--background-level-2)

    margin: 0 $spacing-0
    padding: $spacing-0 - .05rem $spacing-1 - 0.1rem
    border-radius: $tiny-radius

    font-size: 0.8em
    font-weight: bold
    font-family: $font-normal
    text-transform: capitalize

// Tables
table
    border-spacing: 0
    border: solid 1px var(--background-level-1)

    // Rounding
    overflow: hidden
    border-radius: $small-radius

    // Add spacing before and after it
    margin-top: $spacing-2
    margin-bottom: $spacing-2
    // Heading
    thead tr
        background-color: var(--background-level-2)
    // Body rows
    tbody tr:nth-child(even)
        background-color: var(--background-level-3)
    // Any row item
    th, td
        padding: $spacing-1
        // Non-first child
        &:not(:first-child)
            border-left: solid 1px var(--background-level-1)

// Referenced foonotes
.footnotes
    border-top: 2px solid var(--background-level-1)

table tbody tr td
    padding-right: 0.8rem
